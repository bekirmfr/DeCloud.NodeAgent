{
  "_readme": "Copy this file to appsettings.json and fill in your values. NEVER commit appsettings.json with real credentials.",

  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning",
      "DeCloud": "Debug"
    }
  },
  "AllowedHosts": "*",
  "Kestrel": {
    "Endpoints": {
      "Http": {
        "Url": "http://0.0.0.0:5100"
      }
    }
  },
  "Libvirt": {
    "VmStoragePath": "/var/lib/decloud/vms",
    "ImageCachePath": "/var/lib/decloud/images",
    "Uri": "qemu:///system",
    "VncPortStart": 5900,
    "ReconcileOnStartup": true
  },
  "Images": {
    "CachePath": "/var/lib/decloud/images",
    "VmStoragePath": "/var/lib/decloud/vms",
    "DownloadTimeout": "00:30:00"
  },
  "WireGuard": {
    "ConfigPath": "/etc/wireguard",
    "ListenPort": 51820,
    "PrivateKeyPath": "/etc/wireguard/private.key",
    "PublicKeyPath": "/etc/wireguard/public.key",
    "Address": ""
  },
  "Heartbeat": {
    "Interval": "00:00:15",
    "OrchestratorUrl": "REPLACE_WITH_ORCHESTRATOR_URL"
  },
  "CommandProcessor": {
    "PollInterval": "00:00:05"
  },
  "OrchestratorClient": {
    "BaseUrl": "REPLACE_WITH_ORCHESTRATOR_URL",
    "WalletAddress": "REPLACE_WITH_YOUR_WALLET_ADDRESS",
    "Timeout": "00:00:30",
    "PendingAuthFile": "/etc/decloud/pending-auth"
  },
  "ConnectionString": {
    "MongoDB": {
      "ConnectionString": "REPLACE_WITH_MONGODB_CONNECTION_STRING",
      "DatabaseName": "DeCloud"
    }
  },
  "Caddy": {
    "AdminApiUrl": "http://localhost:2019",
    "ConfigPath": "/etc/caddy/Caddyfile",
    "AcmeEmail": "",
    "UseAcmeStaging": false,
    "DataDir": "/var/lib/caddy",
    "EnableAccessLog": true,
    "AccessLogPath": "/var/log/caddy/access.log",
    "AutoHttpsRedirect": true
  },
  "PortSecurity": {
    "MinAllowedPort": 1,
    "MaxAllowedPort": 65535,
    "BlockedPorts": [ 22, 2222, 3306, 5432, 27017, 6379, 9200, 5100, 51820, 2019, 16509 ]
  },
  "AuditLog": {
    "Enabled": true,
    "LogPath": "/var/log/decloud/audit.log",
    "MaxFileSizeMb": 100,
    "MaxFiles": 10,
    "RetentionDays": 90
  },
  "ProxySettings": {
    "AllowedPorts": [ 22, 80, 443, 3000, 3001, 3306, 5000, 5432, 6379, 8000, 8080, 8443, 9999 ],
    "ProtectedPorts": [ 22, 3306, 5432, 6379 ],
    "PortTimeouts": {
      "9999": 200,
      "22": 30000,
      "80": 10000,
      "443": 10000,
      "3000": 10000,
      "3001": 10000,
      "3306": 30000,
      "5000": 10000,
      "5432": 30000,
      "6379": 5000,
      "8000": 10000,
      "8080": 10000,
      "8443": 10000,
      "0": 30000
    },
    "EnablePortWhitelist": true,
    "BlockSystemPorts": true,
    "MaxConcurrentTunnelsPerVm": 10,
    "EnableRateLimiting": false,
    "MaxRequestsPerMinutePerVm": 1000
  }
}
